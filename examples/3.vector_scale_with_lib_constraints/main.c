  
#include "peppher.h"
#include "SkePU++.h"

#include <bits/stdc++.h>
#include <cstdlib>


#define	NX 30



int main(int argc, char **argv)
{
	PEPPHER_INITIALIZE();
	
	float vector[NX], factor=2;

	compose(vector, vector[_index]=_index*10;);
	std::cout<<"BEFORE: ";
	std::copy(vector, vector+NX, std::ostream_iterator<float>(std::cout, " ") );
	
	vector_scale(vector, NX, factor); 
	
	std::cout<<"AFTER: ";
	std::copy(vector, vector+NX, std::ostream_iterator<float>(std::cout, " ") );
	std::cout<<std::endl;
	
	PEPPHER_SHUTDOWN(); 

	return 0;
}
